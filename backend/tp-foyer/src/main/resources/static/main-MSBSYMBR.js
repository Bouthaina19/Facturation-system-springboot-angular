import{a as p}from"./chunk-QT6FXEBZ.js";import{m as v}from"./chunk-EVSDOTJJ.js";import{a as h,b as g,c as C}from"./chunk-JIJJVKGN.js";import{a as f}from"./chunk-JRQUFMBX.js";import{$a as s,Ka as c,S as e,U as m,Ub as l,Vb as d,fa as a,yb as u}from"./chunk-6DQSASWG.js";var A=()=>{let t=e(p),o=e(g);return console.log("Guard check - isLoggedIn?",t.isLoggedIn(),"token:",t.getToken()),t.isLoggedIn()?!0:(o.navigate(["/login"]),!1)};var F=[{path:"login",loadComponent:()=>import("./chunk-ZLZ5N3DI.js").then(t=>t.LoginComponent)},{path:"app",canActivate:[A],children:[{path:"factures/nouvelle",loadComponent:()=>import("./chunk-DDG62HFL.js").then(t=>t.FactureForm)},{path:"factures",loadComponent:()=>import("./chunk-TDIX46HM.js").then(t=>t.FactureListeComponent)},{path:"produits",loadComponent:()=>import("./chunk-NCRNMVXQ.js").then(t=>t.Produits)},{path:"",loadComponent:()=>import("./chunk-J3PTIFFS.js").then(t=>t.DashboardComponent)}]},{path:"",pathMatch:"full",redirectTo:"login"},{path:"**",redirectTo:"login"}];var I=(t,o)=>{let i=e(p).getToken();if(i){let b=t.clone({setHeaders:{Authorization:`Bearer ${i}`}});return o(b)}return o(t)};var H={providers:[a(),u({eventCoalescing:!0}),C(F),l(d([I])),m(v)]};var n=class t{title="facture-app";static \u0275fac=function(r){return new(r||t)};static \u0275cmp=c({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){r&1&&s(0,"router-outlet")},dependencies:[h],encapsulation:2})};f(n,H).catch(t=>console.error(t));
